<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Lịch sử mua hàng <span th:text="${customerName}"></span></title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
	rel="stylesheet">
<style>
body {
	background-color: #fffafc;
	font-family: "Segoe UI", sans-serif;
	color: #333;
	padding: 40px;
}

h1 {
	text-align: center;
	color: #c2185b;
	font-weight: 700;
	margin-bottom: 40px;
}

/* Bảng lịch sử mua hàng */
.table-container {
	background-color: #fff;
	border-radius: 15px;
	box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
	overflow: hidden;
	padding: 20px;
}

table {
	margin-bottom: 0;
}

thead th {
	background-color: #ffe5ec;
	color: #c2185b;
	font-weight: 600;
	text-align: center;
}

tbody td {
	text-align: center;
	vertical-align: middle;
}

.badge {
	font-size: 0.85rem;
	padding: 6px 10px;
	border-radius: 8px;
}

.btn-back {
	background-color: #f9a8d4;
	border: none;
	color: white;
	border-radius: 8px;
	transition: 0.3s;
}

.btn-back:hover {
	background-color: #ec4899;
	color: #fff;
}

.footer-note {
	text-align: center;
	font-size: 0.9rem;
	color: #777;
	margin-top: 40px;
}
</style>
</head>
<body>

	<h1>
		<i class="bi bi-clock-history me-2"></i> Lịch sử mua hàng - <span
			th:text="${customerName}"></span>
	</h1>

	<div class="container table-container">
		<table class="table table-bordered table-hover align-middle">
			<thead>
				<tr>
					<th>Mã đơn</th>
					<th>Ngày đặt</th>
					<th>Sản phẩm</th>
					<th>Số lượng</th>
					<th>Tổng tiền</th>
					<th>Trạng thái</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="order : ${orders}">
					<td th:text="'#' + ${order.id}"></td>
					<td th:text="${#temporals.format(order.orderDate, 'dd/MM/yyyy')}"></td>
					<!-- Sản phẩm -->
					<td>
						<ul>
							<li th:each="detail : ${order.details}"
								th:text="${detail.product.productName}"></li>
						</ul>
					</td>
					<!-- Số lượng -->
					<td>
						<ul>
							<li th:each="detail : ${order.details}"
								th:text="${detail.quantity}"></li>
						</ul>
					</td>
					<!-- Tổng tiền -->
					<td
						th:text="${#numbers.formatDecimal(order.totalAmount, 0, 'COMMA', 0, 'POINT')} + ' ₫'"></td>
					<!-- Trạng thái -->
					<td class="text-center"><span th:switch="${order.status}">
							<span th:case="'Hoàn tất'" class="badge bg-success text-white">Hoàn
								tất</span> <span th:case="'Đang xử lý'"
							class="badge bg-warning text-dark">Đang xử lý</span> <span
							th:case="'Đang giao'" class="badge bg-info text-white">Đang
								giao</span> <span th:case="'Đã hủy'" class="badge bg-danger text-white">Đã
								hủy</span> <span th:case="*" class="badge bg-secondary text-white"
							th:text="${order.status}">Khác</span>
					</span></td>

				</tr>
			</tbody>
		</table>
	</div>

	<div class="text-center mt-4">
		<a th:href="@{/admin/customers}" class="btn btn-back btn-sm"> <i
			class="bi bi-arrow-left-circle me-1"></i> Quay lại danh sách khách
			hàng
		</a>

	</div>



</body>
</html>
