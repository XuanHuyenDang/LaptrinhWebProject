<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gi·ªè h√†ng | Florio Flower Shop</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #fafafa;
      font-family: "Segoe UI", sans-serif;
    }
    .cart-table img {
      width: 70px;
      height: 70px;
      object-fit: cover;
      border-radius: 8px;
    }
    .cart-summary {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .btn-custom {
      border-radius: 20px;
      font-size: 0.9rem;
    }
    .text-danger {
      cursor: pointer;
    }
  </style>
</head>
<body>

  <!-- Ti√™u ƒë·ªÅ trang -->
  <div class="container mt-4">
    <h3 class="text-center mb-4 text-success">üõí Gi·ªè h√†ng c·ªßa b·∫°n</h3>

    <div class="row">
      <!-- B·∫£ng gi·ªè h√†ng -->
      <div class="col-lg-8">
        <div class="table-responsive">
          <table class="table align-middle cart-table bg-white shadow-sm rounded">
            <thead class="table-light">
              <tr>
                <th>S·∫£n ph·∫©m</th>
                <th>Gi√°</th>
                <th>S·ªë l∆∞·ª£ng</th>
                <th>T·ªïng</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="cart-body">
              <tr>
                <td>
                  <div class="d-flex align-items-center">
                    <img src="https://picsum.photos/100/100?1" alt="Hoa 1">
                    <div class="ms-3">
                      <h6 class="mb-1">Gi·ªè hoa h·ªìng ƒë·ªè t√¨nh y√™u</h6>
                      <small class="text-muted">M√£: SP001</small>
                    </div>
                  </div>
                </td>
                <td class="price" data-price="390000">390.000ƒë</td>
                <td><input type="number" value="1" min="1" class="form-control form-control-sm w-50 quantity"></td>
                <td class="subtotal">390.000ƒë</td>
                <td class="text-danger delete-item">üóëÔ∏è</td>
              </tr>

              <tr>
                <td>
                  <div class="d-flex align-items-center">
                    <img src="https://picsum.photos/100/100?2" alt="Hoa 2">
                    <div class="ms-3">
                      <h6 class="mb-1">Hoa h∆∞·ªõng d∆∞∆°ng t∆∞∆°i s√°ng</h6>
                      <small class="text-muted">M√£: SP002</small>
                    </div>
                  </div>
                </td>
                <td class="price" data-price="250000">250.000ƒë</td>
                <td><input type="number" value="2" min="1" class="form-control form-control-sm w-50 quantity"></td>
                <td class="subtotal">500.000ƒë</td>
                <td class="text-danger delete-item">üóëÔ∏è</td>
              </tr>

              <tr>
                <td>
                  <div class="d-flex align-items-center">
                    <img src="https://picsum.photos/100/100?3" alt="Hoa 3">
                    <div class="ms-3">
                      <h6 class="mb-1">B√≥ hoa baby tr·∫Øng d·ªÖ th∆∞∆°ng</h6>
                      <small class="text-muted">M√£: SP003</small>
                    </div>
                  </div>
                </td>
                <td class="price" data-price="220000">220.000ƒë</td>
                <td><input type="number" value="1" min="1" class="form-control form-control-sm w-50 quantity"></td>
                <td class="subtotal">220.000ƒë</td>
                <td class="text-danger delete-item">üóëÔ∏è</td>
              </tr>
            </tbody>
          </table>
        </div>

        <a href="products.html" class="btn btn-outline-secondary btn-custom mt-2">‚Üê Ti·∫øp t·ª•c mua s·∫Øm</a>
      </div>

      <!-- T√≥m t·∫Øt ƒë∆°n h√†ng -->
      <div class="col-lg-4">
        <div class="cart-summary">
          <h5 class="mb-3 text-success">T√≥m t·∫Øt ƒë∆°n h√†ng</h5>
          <div class="d-flex justify-content-between mb-2">
            <span>T·∫°m t√≠nh:</span>
            <strong id="subtotal">1.110.000ƒë</strong>
          </div>
          <div class="d-flex justify-content-between mb-2">
            <span>Ph√≠ v·∫≠n chuy·ªÉn:</span>
            <strong id="shipping">30.000ƒë</strong>
          </div>
          <div class="d-flex justify-content-between border-top pt-2 mb-3">
            <span>T·ªïng c·ªông:</span>
            <strong class="text-danger fs-5" id="total">1.140.000ƒë</strong>
          </div>

          <a href="checkout.html" class="btn btn-success w-100 btn-custom">Thanh to√°n</a>
        </div>
      </div>
    </div>
  </div>

  <script>
    function formatCurrency(value) {
      return value.toLocaleString('vi-VN') + 'ƒë';
    }

    function updateCartTotals() {
      let subtotal = 0;
      document.querySelectorAll('#cart-body tr').forEach(row => {
        const price = parseInt(row.querySelector('.price').dataset.price);
        const quantity = parseInt(row.querySelector('.quantity').value);
        const total = price * quantity;
        row.querySelector('.subtotal').textContent = formatCurrency(total);
        subtotal += total;
      });

      const shipping = 30000;
      document.getElementById('subtotal').textContent = formatCurrency(subtotal);
      document.getElementById('total').textContent = formatCurrency(subtotal + shipping);
    }

    // Khi thay ƒë·ªïi s·ªë l∆∞·ª£ng
    document.querySelectorAll('.quantity').forEach(input => {
      input.addEventListener('input', updateCartTotals);
    });

    // X√≥a s·∫£n ph·∫©m
    document.querySelectorAll('.delete-item').forEach(btn => {
      btn.addEventListener('click', e => {
        e.target.closest('tr').remove();
        updateCartTotals();
      });
    });

    // C·∫≠p nh·∫≠t l·∫ßn ƒë·∫ßu khi t·∫£i trang
    updateCartTotals();
  </script>

</body>
</html>
