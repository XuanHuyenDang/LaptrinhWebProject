<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<title>Quản lý khách hàng - Florio Admin</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
	rel="stylesheet" />
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
	rel="stylesheet" />
<style>
body {
	background-color: #fffafc;
	font-family: "Segoe UI", sans-serif;
}

/* Sidebar */
.sidebar {
	position: fixed;
	top: 0;
	left: 0;
	height: 100vh;
	width: 250px;
	background: linear-gradient(180deg, #ffb6c1 0%, #ffe5ec 100%);
	color: #4a4a4a;
	padding-top: 1rem;
	box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
}

.sidebar h5 {
	font-weight: bold;
	color: #c2185b;
}

.sidebar a {
	color: #5a5a5a;
	text-decoration: none;
	display: block;
	padding: 10px 20px;
	border-radius: 8px;
	margin: 3px 10px;
	transition: all 0.3s ease;
	font-weight: 500;
}

.sidebar a:hover, .sidebar a.active {
	background: #fff;
	color: #c2185b;
	box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
	transform: translateX(3px);
}

.sidebar i {
	color: #c2185b;
}

/* Main */
main {
	margin-left: 270px;
	padding: 30px;
}

h3 {
	color: #c2185b;
	font-weight: 700;
}

/* Table & Card */
.card {
	border-radius: 15px;
	border: none;
	box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
}

table {
	background-color: #fff;
	border-radius: 10px;
	overflow: hidden;
}

thead {
	background-color: #ffe5ec;
}

.btn-outline-primary {
	border-color: #c2185b;
	color: #c2185b;
}

.btn-outline-primary:hover {
	background-color: #c2185b;
	color: #fff;
}

.btn-primary {
	background-color: #c2185b;
	border: none;
}

.btn-primary:hover {
	background-color: #a3154d;
}

.badge {
	font-size: 0.85rem;
}
.logout-form {
  position: absolute;
  bottom: 160px;        /* Cố định ở gần cuối sidebar */
  left: 45%;
  transform: translateX(-50%); /* Căn giữa theo chiều ngang */
  text-align: center;
}
</style>
</head>

<body>
	<!-- Sidebar -->
	<div th:replace="~{admin/fragments/sidebar :: sidebar(page='dashboard')}"></div>

	<!-- Main -->
	<main>
		<div class="d-flex align-items-center justify-content-between mb-4">
			<h3>
				<i class="bi bi-people me-2"></i>Quản lý khách hàng
			</h3>
		</div>

		<div class="card p-0">
			<div class="card-body p-0">
				<table class="table table-bordered align-middle m-0">
					<thead class="text-center">
						<tr>
							<th style="width: 5%">ID</th>
							<th style="width: 20%">Họ tên</th>
							<th style="width: 25%">Email</th>
							<th style="width: 15%">Ngày đăng ký</th>
							<th style="width: 15%">Tổng đơn hàng</th>
							<th style="width: 20%">Chi tiết</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="customer : ${customers}">
							<td th:text="${customer.id}"></td>
							<td th:text="${customer.fullName}"></td>
							<td th:text="${customer.email}"></td>
							<td th:text="${#temporals.format(customer.createdAt, 'dd/MM/yyyy')}"></td>
							<td th:text="${customer.orderCount}"></td>
							<td class="text-center"><a
								th:href="@{/admin/customers/{id}/orders(id=${customer.id})}"
								class="btn btn-sm btn-outline-primary"> <i class="bi bi-eye"></i>
									Xem đơn hàng
							</a></td>
						</tr>
					</tbody>

				</table>
			</div>
		</div>
	</main>
</body>
</html>
