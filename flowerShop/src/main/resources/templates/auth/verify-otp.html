<!DOCTYPE html>
<html lang="vi">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Xác thực OTP - Florio Flower Shop</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
	rel="stylesheet">

<style>
body {
	background: linear-gradient(120deg, #ffdee9 0%, #b5fffc 100%);
	height: 100vh;
	display: flex;
	align-items: center;
	justify-content: center;
}

.otp-card {
	background: #fff;
	border-radius: 20px;
	box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
	width: 420px;
	padding: 35px;
	text-align: center;
}

.otp-card img {
	width: 80px;
	margin-bottom: 15px;
}

.otp-card h4 {
	color: #d63384;
	font-weight: bold;
	margin-bottom: 10px;
}

.otp-input {
	letter-spacing: 8px;
	text-align: center;
	font-size: 1.4rem;
}

.btn-custom {
	background-color: #d63384;
	color: white;
	border: none;
	transition: 0.3s;
}

.btn-custom:hover {
	background-color: #b32d70;
}

.form-control:focus {
	border-color: #d63384;
	box-shadow: 0 0 0 0.2rem rgba(214, 51, 132, 0.25);
}
</style>
</head>

<body>
	<div class="otp-card">
		<img th:src="@{/assets/images/Florio.png}" alt="logo">
		<h4>Xác thực mã OTP</h4>
		<p class="text-muted">
			Nhập mã OTP được gửi đến <strong th:text="${email}"></strong>
		</p>

		<div th:if="${error}" class="alert alert-danger py-2"
			th:text="${error}"></div>
		<div th:if="${message}" class="alert alert-success py-2"
			th:text="${message}"></div>

		<form th:action="@{/auth/register/confirm}" method="post">
			<input type="hidden" th:if="${_csrf}" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

			<input type="hidden" name="email" th:value="${email}">

			<div class="mb-3">
				<input type="text" class="form-control otp-input" name="otp"
					maxlength="6" placeholder="Nhập mã OTP" required>
			</div>

			<button type="submit" class="btn btn-custom w-100 mb-3">Xác
				nhận</button>

			<div>
				<a th:href="@{/auth/register}"
					class="text-decoration-none text-secondary"> <i
					class="bi bi-arrow-left"></i> Quay lại đăng ký
				</a>
			</div>
		</form>
	</div>
	<div th:if="${email == null}">
		<div class="alert alert-warning">Phiên không hợp lệ hoặc đã hết
			hạn. Vui lòng đăng ký lại.</div>
		<a th:href="@{/auth/register}" class="btn btn-secondary mt-2">Quay
			lại đăng ký</a>
	</div>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>